docker-compose down
docker rm -f $(docker ps -a -q)
docker volume rm $(docker volume ls -q)
docker image rm $(docker image ls) 

/*/*/*/*/*/
In this configuration, nginx first tests the IP address and port of the request against the listen directives of the server blocks. It then tests the “Host” header field of the request against the server_name entries of the server blocks that matched the IP address and port. If the server name is not found, the request will be processed by the default server. For example, a request for www.example.com received on the 192.168.1.1:80 port will be handled by the default server of the 192.168.1.1:80 port, i.e., by the first server, since there is no www.example.com defined for this port.

As already stated, a default server is a property of the listen port, and different default servers may be defined for different ports:

build les images Docker via docker-compose : 
    1) Definir l'envirronement de chaque apllication par un Dockerfile
    2) Creer les yaml pour definir quel service ils vont finir et comment
    3) Lancer docker compose up et la commande pour demarrer la Docker compose puis lancer le tout.
    4) 
/*/*//*//*/

PID The process ID :
    - 

Nginx setup :
 - chose suppr :
            COPY src/sshd_config /etc/ssh/sshd_config 
            /usr/sbin/sshd
            RUN addgroup sshgroup && adduser -D user && echo "user:password" | chpasswd
            ssh-keygen -A

Dockerfile suppr :
    RUN chmod +x /tmp/start.sh
    RUN mkdir -p /run/nginx
    COPY conf/esaci.html /var/www/esaci/htdocs/ 
    COPY conf/sshd_config /etc/ssh/sshd_config 
    COPY conf/nginx.conf /etc/nginx/nginx.conf 
    COPY conf/healthcheck.sh /tmp/. 
    COPY conf/start.sh /tmp/start.sh

- TLS Transport layer security
            -  openssl dhparam -outform pem -out /etc/nginx/ssl/dhparam2048.pem 2048


NGINX ULT :
    a faire docker-compose up -d



-------------------------------------!!!!!!!!!!!!!!!---------------------------
Vos volumes seront disponibles dans le dossier /home/login/data de la
machine hôte utilisant Docker. Bien entendu, remplacez le "login" par
le vôtre.

Deux utilisateurs seront présents dans votre base de données WordPress, l’un d’eux
étant le compte Admin. L’username de l’Admin ne devra pas comporter "admin"
ou "Admin"

Vos volumes seront disponibles dans le dossier /home/login/data de la
machine hôte utilisant Docker. Bien entendu, remplacez le "login" par
le vôtre.

Pour des questions de lisibilité, il faudra configurer votre nom de domaine afin qu’il
pointe vers votre adresse IP locale.
Ce nom de domaine sera login.42.fr. A nouveau, vous utiliserez votre login.
Par exemple, si votre login est wil, wil.42.fr redirigera vers l’adresse IP pointant vers
le site web de wil.

Le tag latest est interdit.
Aucun mot de passe ne doit être présent dans vos Dockerfiles.
L’utilisation des variables d’environnement est obligatoire.
La mise en place d’un fichier .env afin de stocker vos variables
d’environnement est fortement conseillée. Ce fichier devra être rangé
à la racine de votre dossier srcs.
Votre container NGINX doit être le seul point d’entrée de votre
infrastructure par le port 443 uniquement en utilisant le protocole
TLSv1.2 ou TLSv1.3.

- systemctl stop nginx
- http://192.168.3.83/


--------------------------
        ssl_certificate         /etc/ssl/certs/esaci.crt;
        ssl_certificate_key     /etc/ssl/certs/esaci.key;
        COPY ./conf/default.conf /etc/nginx/conf.d/
            extra_hosts:
        - "esaci.42.fr esaci:172.17.0.2"


-----------------------------------------
INFO :  /data/www contient les htm;
        /data/image les images
    

MYSQL_ROOT_PASSWORD=0000
WORDPRESS_DB_PASSWORD=0000
MYSQL_USER=esaci
WORDPRESS_DB_USER=esaci
MYSQL_PASSWORD=esaci0
MYSQL_DATABASE=wordpress
WORDPRESS_DB_NAME=wordpress
WORDPRESS_DB_HOST=mysql
WORDPRESS_TABLE_PREFIX=wp_
MYSQL_IP=https://172.19.0.1/:3306
SERV_IP=172.19.0.1



        location / {
            # First attempt to serve request as file, then
            # as directory, then fall back to displaying a 404.
            try_files $uri $uri/ /index.php?$args;
            }
        location / {
            proxy_pass  http://wordpress;
            proxy_set_header Host $host;
            proxy_redirect     off;
        }
 mysql:
    image: mariadb
    build:
      context: ./requirements/mariadb/
    volumes:
      - /data/mysql:/var/lib/mysql
    env_file: .env 
    restart: always
    volumes:
      - /data/mysql:/var/lib/mysql
    ports:
      - 3306:3306

  mysql:
    image: mariadb
    container_name: e_mysql
    ports: 
      - 3306
    volumes:
      - /home/esaci/data/mysql:/var/lib/mysql
    build:
      context: ./requirements/mariadb/
    environment:
      MYSQL_ROOT_PASSWORD: mysql_root_pass
      MYSQL_DATABASE: db_name
      MYSQL_USER: user_name
      MYSQL_PASSWORD: user_pass
    restart: always

    depends_on:
      - mysql
